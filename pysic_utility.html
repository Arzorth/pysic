

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Pysic Utility modules &mdash; Pysic 0.5 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Pysic 0.5 documentation" href="index.html" />
    <link rel="next" title="Pysic Fortran module" href="pysic_fortran.html" />
    <link rel="prev" title="CoreMirror class" href="coremirror class.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pysic_fortran.html" title="Pysic Fortran module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="coremirror class.html" title="CoreMirror class"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Pysic 0.5 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Pysic Utility modules</a><ul>
<li><a class="reference internal" href="#plot">Plot</a></li>
<li><a class="reference internal" href="#mpi">MPI</a></li>
<li><a class="reference internal" href="#archive">Archive</a></li>
<li><a class="reference internal" href="#convenience">Convenience</a></li>
<li><a class="reference internal" href="#geometry">Geometry</a></li>
<li><a class="reference internal" href="#error">Error</a></li>
<li><a class="reference internal" href="#debug">Debug</a></li>
<li><a class="reference internal" href="#f2py">F2py</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="coremirror class.html"
                        title="previous chapter">CoreMirror class</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="pysic_fortran.html"
                        title="next chapter">Pysic Fortran module</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/pysic_utility.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <span class="target" id="module-pysic.utility"><span id="pysic-utility"></span></span><div class="section" id="pysic-utility-modules">
<h1>Pysic Utility modules<a class="headerlink" href="#pysic-utility-modules" title="Permalink to this headline">¶</a></h1>
<p>Modules for providing utility tools and parameters.</p>
<div class="section" id="plot">
<span id="plot-utility"></span><h2>Plot<a class="headerlink" href="#plot" title="Permalink to this headline">¶</a></h2>
<p>The plot utility defines a group of tools for exploring and plotting energy and force landscapes. It uses the <a class="reference external" href="http://matplotlib.org">matplotlib library</a>.</p>
<span class="target" id="module-pysic.utility.plot"></span><dl class="function">
<dt id="pysic.utility.plot.plot_abs_force_on_line">
<tt class="descclassname">pysic.utility.plot.</tt><tt class="descname">plot_abs_force_on_line</tt><big>(</big><em>index, system, direction=None, length=None, steps=100, start=None, end=None, lims=[-10000000000.0, 10000000000.0]</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/plot.html#plot_abs_force_on_line"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.plot.plot_abs_force_on_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the absolute value of the force on a particle as a function of the position.</p>
<p>The method probes the system by moving a single particle on a line
and recording the force. A plot is drawn. Also a tuple containing arrays of
the distance traveled and the recorded forces is returned.</p>
<p>After the operation is complete, the initial structure is restored.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>index: integer</dt>
<dd>index of the particle to be moved</dd>
<dt>system: <a class="reference external" href="https://wiki.fysik.dtu.dk/ase/ase/atoms.html">ASE Atoms</a> object</dt>
<dd>the structure to be explored</dd>
<dt>direction: double 3-vector</dt>
<dd>the direction where the atom is moved</dd>
<dt>length: double</dt>
<dd>the distance moved</dd>
<dt>steps: integer</dt>
<dd>number of points (taken uniformly on the movement path) for measuring the force</dd>
<dt>start: double 3-vector (array or list)</dt>
<dd>starting point for the trajectory - if not specified, the position of the particle in &#8216;system&#8217; is used</dd>
<dt>end: double 3-vector (array or list)</dt>
<dd>end point for the trajectory - alternative for direction and length (will override them)</dd>
<dt>lims: double 2-vector (array or list)</dt>
<dd>lower and upper truncation limits - if a recorded value is smaller than the lower limit or larger than the upper, it is replaced by the corresponding truncation value</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pysic.utility.plot.plot_abs_force_on_plane">
<tt class="descclassname">pysic.utility.plot.</tt><tt class="descname">plot_abs_force_on_plane</tt><big>(</big><em>index, system, directions, lengths, steps=100, start=None, lims=[-10000000000.0, 10000000000.0]</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/plot.html#plot_abs_force_on_plane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.plot.plot_abs_force_on_plane" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the absolute value of force on a particle as a function of the position.</p>
<p>The method probes the system by moving a single particle on a plane
and recording the force. A contour plot is drawn. Also a tuple containing arrays of
the distances traveled on the plane and the recorded forces is returned.</p>
<p>After the operation is complete, the initial structure is restored.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>index: integer</dt>
<dd>index of the particle to be moved</dd>
<dt>system: <a class="reference external" href="https://wiki.fysik.dtu.dk/ase/ase/atoms.html">ASE Atoms</a> object</dt>
<dd>the structure to be explored</dd>
<dt>directions: double 2x3-matrix</dt>
<dd>The directions where the atom is moved - i.e., the vectors defining the plane. If the second vector is not perpendicular to the first, the normal component is automatically used instead.</dd>
<dt>lengths: double 2-vector</dt>
<dd>the distances moved in the given directions</dd>
<dt>steps: integer</dt>
<dd>number of points (taken uniformly on the movement plane) for measuring the force</dd>
<dt>start: double 3-vector (array or list)</dt>
<dd>starting point for the trajectory, i.e., a corner for the plane to be probed - if not specified, the position of the particle in &#8216;system&#8217; is used</dd>
<dt>lims: double 2-vector (array or list)</dt>
<dd>lower and upper truncation limits - if a recorded value is smaller than the lower limit or larger than the upper, it is replaced by the corresponding truncation value</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pysic.utility.plot.plot_energy_on_line">
<tt class="descclassname">pysic.utility.plot.</tt><tt class="descname">plot_energy_on_line</tt><big>(</big><em>index, system, direction=None, length=None, steps=100, start=None, end=None, lims=[-10000000000.0, 10000000000.0]</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/plot.html#plot_energy_on_line"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.plot.plot_energy_on_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the energy of the system as a function of the position of a single particle.</p>
<p>The method probes the system by moving a single particle on a line
and recording the energy. A plot is drawn. Also a tuple containing arrays of
the distance traveled and the recorded energies is returned.</p>
<p>After the operation is complete, the initial structure is restored.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>index: integer</dt>
<dd>index of the particle to be moved</dd>
<dt>system: <a class="reference external" href="https://wiki.fysik.dtu.dk/ase/ase/atoms.html">ASE Atoms</a> object</dt>
<dd>the structure to be explored</dd>
<dt>direction: double 3-vector</dt>
<dd>the direction where the atom is moved</dd>
<dt>length: double</dt>
<dd>the distance moved</dd>
<dt>steps: integer</dt>
<dd>number of points (taken uniformly on the movement path) for measuring the energy</dd>
<dt>start: double 3-vector (array or list)</dt>
<dd>starting point for the trajectory - if not specified, the position of the particle in &#8216;system&#8217; is used</dd>
<dt>end: double 3-vector (array or list)</dt>
<dd>end point for the trajectory - alternative for direction and length (will override them)</dd>
<dt>lims: double 2-vector (array or list)</dt>
<dd>lower and upper truncation limits - if a recorded value is smaller than the lower limit or larger than the upper, it is replaced by the corresponding truncation value</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pysic.utility.plot.plot_energy_on_plane">
<tt class="descclassname">pysic.utility.plot.</tt><tt class="descname">plot_energy_on_plane</tt><big>(</big><em>index, system, directions, lengths, steps=100, start=None, lims=[-10000000000.0, 10000000000.0]</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/plot.html#plot_energy_on_plane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.plot.plot_energy_on_plane" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the energy of the system as a function of the position of a particle.</p>
<p>The method probes the system by moving a single particle on a plane
and recording the energy. A contour plot is drawn. Also a tuple containing arrays of
the distances traveled on the plane and the recorded energies is returned.</p>
<p>After the operation is complete, the initial structure is restored.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>index: integer</dt>
<dd>index of the particle to be moved</dd>
<dt>system: <a class="reference external" href="https://wiki.fysik.dtu.dk/ase/ase/atoms.html">ASE Atoms</a> object</dt>
<dd>the structure to be explored</dd>
<dt>directions: double 2x3-matrix</dt>
<dd>The directions where the atom is moved - i.e., the vectors defining the plane. If the second vector is not perpendicular to the first, the normal component is automatically used instead.</dd>
<dt>lengths: double 2-vector</dt>
<dd>the distances moved in the given directions</dd>
<dt>steps: integer</dt>
<dd>number of points (taken uniformly on the movement plane) for measuring the energy</dd>
<dt>start: double 3-vector (array or list)</dt>
<dd>starting point for the trajectory, i.e., a corner for the plane to be probed - if not specified, the position of the particle in &#8216;system&#8217; is used</dd>
<dt>lims: double 2-vector (array or list)</dt>
<dd>lower and upper truncation limits - if a recorded value is smaller than the lower limit or larger than the upper, it is replaced by the corresponding truncation value</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pysic.utility.plot.plot_force_component_on_plane">
<tt class="descclassname">pysic.utility.plot.</tt><tt class="descname">plot_force_component_on_plane</tt><big>(</big><em>index, system, directions, lengths, component, steps=100, start=None, lims=[-10000000000.0, 10000000000.0]</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/plot.html#plot_force_component_on_plane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.plot.plot_force_component_on_plane" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the projected component of force on a particle as a function of the position.</p>
<p>The method probes the system by moving a single particle on a plane
and recording the force. The component of the force projected on a
given vector is recorded.
A contour plot is drawn. Also a tuple containing arrays of
the distances traveled on the plane and the recorded forces is returned.</p>
<p>After the operation is complete, the initial structure is restored.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>index: integer</dt>
<dd>index of the particle to be moved</dd>
<dt>system: <a class="reference external" href="https://wiki.fysik.dtu.dk/ase/ase/atoms.html">ASE Atoms</a> object</dt>
<dd>the structure to be explored</dd>
<dt>directions: double 2x3-matrix</dt>
<dd>The directions where the atom is moved - i.e., the vectors defining the plane. If the second vector is not perpendicular to the first, the normal component is automatically used instead.</dd>
<dt>lengths: double 2-vector</dt>
<dd>the distances moved in the given directions</dd>
<dt>component: double 3-vector</dt>
<dd>the direction on which the force is projected - e.g., if component is [1,0,0], the x-component is recorded</dd>
<dt>steps: integer</dt>
<dd>number of points (taken uniformly on the movement plane) for measuring the force</dd>
<dt>start: double 3-vector (array or list)</dt>
<dd>starting point for the trajectory, i.e., a corner for the plane to be probed - if not specified, the position of the particle in &#8216;system&#8217; is used</dd>
<dt>lims: double 2-vector (array or list)</dt>
<dd>lower and upper truncation limits - if a recorded value is smaller than the lower limit or larger than the upper, it is replaced by the corresponding truncation value</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pysic.utility.plot.plot_tangent_force_on_line">
<tt class="descclassname">pysic.utility.plot.</tt><tt class="descname">plot_tangent_force_on_line</tt><big>(</big><em>index, system, direction=None, length=None, steps=100, start=None, end=None, lims=[-10000000000.0, 10000000000.0]</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/plot.html#plot_tangent_force_on_line"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.plot.plot_tangent_force_on_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the tangential force on a particle as a function of the position.</p>
<p>The method probes the system by moving a single particle on a line
and recording the force tangent. A plot is drawn. Also a tuple containing arrays of
the distance traveled and the recorded forces is returned.</p>
<p>After the operation is complete, the initial structure is restored.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>index: integer</dt>
<dd>index of the particle to be moved</dd>
<dt>system: <a class="reference external" href="https://wiki.fysik.dtu.dk/ase/ase/atoms.html">ASE Atoms</a> object</dt>
<dd>the structure to be explored</dd>
<dt>direction: double 3-vector</dt>
<dd>the direction where the atom is moved</dd>
<dt>length: double</dt>
<dd>the distance moved</dd>
<dt>steps: integer</dt>
<dd>number of points (taken uniformly on the movement path) for measuring the energy</dd>
<dt>start: double 3-vector (array or list)</dt>
<dd>starting point for the trajectory - if not specified, the position of the particle in &#8216;system&#8217; is used</dd>
<dt>end: double 3-vector (array or list)</dt>
<dd>end point for the trajectory - alternative for direction and length (will override them)</dd>
<dt>lims: double 2-vector (array or list)</dt>
<dd>lower and upper truncation limits - if a recorded value is smaller than the lower limit or larger than the upper, it is replaced by the corresponding truncation value</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pysic.utility.plot.plot_tangent_force_on_plane">
<tt class="descclassname">pysic.utility.plot.</tt><tt class="descname">plot_tangent_force_on_plane</tt><big>(</big><em>index, system, directions, lengths, steps=100, start=None, lims=[-10000000000.0, 10000000000.0]</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/plot.html#plot_tangent_force_on_plane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.plot.plot_tangent_force_on_plane" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the absolute value of the tangent component of force on a particle as a function of the position.</p>
<p>The method probes the system by moving a single particle on a plane
and recording the force. The force is projected on the same plane, and the absolute
value of the projection is calculated.
A contour plot is drawn. Also a tuple containing arrays of
the distances traveled on the plane and the recorded forces is returned.</p>
<p>After the operation is complete, the initial structure is restored.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>index: integer</dt>
<dd>index of the particle to be moved</dd>
<dt>system: <a class="reference external" href="https://wiki.fysik.dtu.dk/ase/ase/atoms.html">ASE Atoms</a> object</dt>
<dd>the structure to be explored</dd>
<dt>directions: double 2x3-matrix</dt>
<dd>The directions where the atom is moved - i.e., the vectors defining the plane. If the second vector is not perpendicular to the first, the normal component is automatically used instead.</dd>
<dt>lengths: double 2-vector</dt>
<dd>the distances moved in the given directions</dd>
<dt>steps: integer</dt>
<dd>number of points (taken uniformly on the movement plane) for measuring the force</dd>
<dt>start: double 3-vector (array or list)</dt>
<dd>starting point for the trajectory, i.e., a corner for the plane to be probed - if not specified, the position of the particle in &#8216;system&#8217; is used</dd>
<dt>lims: double 2-vector (array or list)</dt>
<dd>lower and upper truncation limits - if a recorded value is smaller than the lower limit or larger than the upper, it is replaced by the corresponding truncation value</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="mpi">
<span id="mpi-utility"></span><h2>MPI<a class="headerlink" href="#mpi" title="Permalink to this headline">¶</a></h2>
<p>The mpi utility defines a group of tools for parallel computations.</p>
<span class="target" id="module-pysic.utility.mpi"></span><p>Defines MPI safe routines for printing, file access etc.</p>
<dl class="function">
<dt id="pysic.utility.mpi.append_file">
<tt class="descclassname">pysic.utility.mpi.</tt><tt class="descname">append_file</tt><big>(</big><em>lines</em>, <em>filename</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/mpi.html#append_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.mpi.append_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends the given lines to a text file so that only the master cpu writes.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>lines: list of strings</dt>
<dd>lines to be written</dd>
<dt>filename: string</dt>
<dd>the name of the file</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pysic.utility.mpi.cd">
<tt class="descclassname">pysic.utility.mpi.</tt><tt class="descname">cd</tt><big>(</big><em>dir</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/mpi.html#cd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.mpi.cd" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes to the given directory on all cpus.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>dir: string</dt>
<dd>the name of the directory</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pysic.utility.mpi.cpu_id">
<tt class="descclassname">pysic.utility.mpi.</tt><tt class="descname">cpu_id</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pysic/utility/mpi.html#cpu_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.mpi.cpu_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the cpu ID from the Fortran MPI.</p>
<p>Equivalent to <a class="reference internal" href="#pysic.utility.mpi.get_cpu_id" title="pysic.utility.mpi.get_cpu_id"><tt class="xref py py-func docutils literal"><span class="pre">get_cpu_id()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="pysic.utility.mpi.finish_mpi">
<tt class="descclassname">pysic.utility.mpi.</tt><tt class="descname">finish_mpi</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pysic/utility/mpi.html#finish_mpi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.mpi.finish_mpi" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminates the MPI framework.</p>
<p>If the Fortran core is compiled in MPI mode, <a class="reference internal" href="pysic.html#module-pysic" title="pysic"><tt class="xref py py-mod docutils literal"><span class="pre">pysic</span></tt></a> will automatically
initialize MPI upon being imported. This method terminates the MPI.</p>
</dd></dl>

<dl class="function">
<dt id="pysic.utility.mpi.get_cpu_id">
<tt class="descclassname">pysic.utility.mpi.</tt><tt class="descname">get_cpu_id</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pysic/utility/mpi.html#get_cpu_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.mpi.get_cpu_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the cpu ID from the Fortran MPI.</p>
</dd></dl>

<dl class="function">
<dt id="pysic.utility.mpi.get_number_of_cpus">
<tt class="descclassname">pysic.utility.mpi.</tt><tt class="descname">get_number_of_cpus</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pysic/utility/mpi.html#get_number_of_cpus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.mpi.get_number_of_cpus" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the number of cpus from the Fortran MPI.</p>
</dd></dl>

<dl class="function">
<dt id="pysic.utility.mpi.is_master">
<tt class="descclassname">pysic.utility.mpi.</tt><tt class="descname">is_master</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pysic/utility/mpi.html#is_master"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.mpi.is_master" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <tt class="docutils literal"><span class="pre">True</span></tt> for the cpu with ID 0.</p>
</dd></dl>

<dl class="function">
<dt id="pysic.utility.mpi.mkdir">
<tt class="descclassname">pysic.utility.mpi.</tt><tt class="descname">mkdir</tt><big>(</big><em>dir</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/mpi.html#mkdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.mpi.mkdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new directory only with the master cpu.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>dir: string</dt>
<dd>the name of the directory</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pysic.utility.mpi.mpi_barrier">
<tt class="descclassname">pysic.utility.mpi.</tt><tt class="descname">mpi_barrier</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pysic/utility/mpi.html#mpi_barrier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.mpi.mpi_barrier" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls MPI barrier from the Fortran core MPI framework.</p>
<p>This is equivalent to <a class="reference internal" href="#pysic.utility.mpi.sync_mpi" title="pysic.utility.mpi.sync_mpi"><tt class="xref py py-func docutils literal"><span class="pre">sync_mpi()</span></tt></a></p>
</dd></dl>

<dl class="function">
<dt id="pysic.utility.mpi.mprint">
<tt class="descclassname">pysic.utility.mpi.</tt><tt class="descname">mprint</tt><big>(</big><em>string</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/mpi.html#mprint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.mpi.mprint" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the string to stdout only from the master cpu.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>string: string</dt>
<dd>the string to be written</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pysic.utility.mpi.sync_mpi">
<tt class="descclassname">pysic.utility.mpi.</tt><tt class="descname">sync_mpi</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pysic/utility/mpi.html#sync_mpi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.mpi.sync_mpi" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls MPI barrier from the Fortran core MPI framework.</p>
</dd></dl>

<dl class="function">
<dt id="pysic.utility.mpi.write_file">
<tt class="descclassname">pysic.utility.mpi.</tt><tt class="descname">write_file</tt><big>(</big><em>lines</em>, <em>filename</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/mpi.html#write_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.mpi.write_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the given lines to a text file so that only the master cpu writes.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>lines: list of strings</dt>
<dd>lines to be written</dd>
<dt>filename: string</dt>
<dd>the name of the file</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="archive">
<span id="archive-utility"></span><h2>Archive<a class="headerlink" href="#archive" title="Permalink to this headline">¶</a></h2>
<p>The archive utility defines a group of functions for archiving and retrieving simulation data in the hdf5 format. This requires <a class="reference external" href="http://www.hdfgroup.org/HDF5/">hdf5</a>  and the <a class="reference external" href="http://www.h5py.org/">h5py Python library</a>.</p>
<span class="target" id="module-pysic.utility.archive"></span><dl class="class">
<dt id="pysic.utility.archive.Archive">
<em class="property">class </em><tt class="descclassname">pysic.utility.archive.</tt><tt class="descname">Archive</tt><big>(</big><em>filename</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive" title="Permalink to this definition">¶</a></dt>
<dd><p>A class representing a data archive in the hdf5 format.</p>
<p>The archive is built on h5py. See its 
<a class="reference external" href="http://docs.h5py.org/en/latest/quick.html">documentation</a>
to access further functionality.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>filename: string</dt>
<dd>path to the file storing the data</dd>
</dl>
<dl class="method">
<dt id="pysic.utility.archive.Archive.access_dataset">
<tt class="descname">access_dataset</tt><big>(</big><em>name</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.access_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.access_dataset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.add_dataset_metadata">
<tt class="descname">add_dataset_metadata</tt><big>(</big><em>attribute</em>, <em>metadata</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.add_dataset_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.add_dataset_metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.add_group_metadata">
<tt class="descname">add_group_metadata</tt><big>(</big><em>attribute</em>, <em>metadata</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.add_group_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.add_group_metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.create_dataset">
<tt class="descname">create_dataset</tt><big>(</big><em>name</em>, <em>data</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.create_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.create_dataset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.create_subgroup">
<tt class="descname">create_subgroup</tt><big>(</big><em>name</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.create_subgroup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.create_subgroup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.data">
<tt class="descname">data</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.delete_current_dataset">
<tt class="descname">delete_current_dataset</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.delete_current_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.delete_current_dataset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.delete_dataset">
<tt class="descname">delete_dataset</tt><big>(</big><em>name</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.delete_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.delete_dataset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.delete_group">
<tt class="descname">delete_group</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.delete_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.delete_group" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.delete_subgroup">
<tt class="descname">delete_subgroup</tt><big>(</big><em>name</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.delete_subgroup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.delete_subgroup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.get_contents">
<tt class="descname">get_contents</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.get_contents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.get_contents" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.get_dataset">
<tt class="descname">get_dataset</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.get_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.get_dataset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.get_dataset_metadata">
<tt class="descname">get_dataset_metadata</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.get_dataset_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.get_dataset_metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.get_dataset_name">
<tt class="descname">get_dataset_name</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.get_dataset_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.get_dataset_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.get_group">
<tt class="descname">get_group</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.get_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.get_group" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.get_group_metadata">
<tt class="descname">get_group_metadata</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.get_group_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.get_group_metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.get_group_name">
<tt class="descname">get_group_name</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.get_group_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.get_group_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.get_system">
<tt class="descname">get_system</tt><big>(</big><em>name</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.get_system"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.get_system" title="Permalink to this definition">¶</a></dt>
<dd><p>Restore a stored system.</p>
<p>The function returns a tuple with the data:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">system</span><span class="p">,</span> <span class="n">energy</span><span class="p">,</span> <span class="n">forces</span><span class="p">,</span> <span class="n">stress</span><span class="p">,</span> <span class="n">electronegativities</span>
</pre></div>
</div>
<p>Parameters:</p>
<dl class="docutils">
<dt>name: string</dt>
<dd>name of the group storing the system</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.group">
<tt class="descname">group</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.group" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.list">
<tt class="descname">list</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.move">
<tt class="descname">move</tt><big>(</big><em>source</em>, <em>destination</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.move"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.move" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.move_to_group">
<tt class="descname">move_to_group</tt><big>(</big><em>name</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.move_to_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.move_to_group" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.move_to_parent_group">
<tt class="descname">move_to_parent_group</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.move_to_parent_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.move_to_parent_group" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.move_to_root_group">
<tt class="descname">move_to_root_group</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.move_to_root_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.move_to_root_group" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.remove_dataset_metadata">
<tt class="descname">remove_dataset_metadata</tt><big>(</big><em>attribute</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.remove_dataset_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.remove_dataset_metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.remove_group_metadata">
<tt class="descname">remove_group_metadata</tt><big>(</big><em>attribute</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.remove_group_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.remove_group_metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.state">
<tt class="descname">state</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.state" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pysic.utility.archive.Archive.store_system">
<tt class="descname">store_system</tt><big>(</big><em>name</em>, <em>atoms</em>, <em>calculate=True</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/archive.html#Archive.store_system"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.archive.Archive.store_system" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the information of an atomic system.</p>
<p>The routine creates a group with the given name and
stores the atomic information there as named datasets:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="s">&#39;atomic numbers&#39;</span>
<span class="s">&#39;positions&#39;</span>
<span class="s">&#39;charges&#39;</span>
<span class="s">&#39;magnetic moments&#39;</span>
<span class="s">&#39;tags&#39;</span>
<span class="s">&#39;cell&#39;</span>
<span class="s">&#39;pbc&#39;</span>
<span class="s">&#39;momenta&#39;</span>
<span class="s">&#39;potential energy&#39;</span>
<span class="s">&#39;forces&#39;</span>
<span class="s">&#39;stress&#39;</span>
<span class="s">&#39;electronegativites&#39;</span>
</pre></div>
</div>
<p>The data requiring calculation is stored only if a calculator
is attached to the atoms, electronegativities only if the
calculator is <a class="reference internal" href="pysic class.html#pysic.calculator.Pysic" title="pysic.calculator.Pysic"><tt class="xref py py-class docutils literal"><span class="pre">Pysic</span></tt></a>.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>name: string</dt>
<dd>the name of the group for storing the data</dd>
<dt>atoms: Atoms object</dt>
<dd>the structure to be stored</dd>
<dt>calculate: boolean</dt>
<dd>if True, the data requiring calculations will not be stored</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="convenience">
<span id="convenience-utility"></span><h2>Convenience<a class="headerlink" href="#convenience" title="Permalink to this headline">¶</a></h2>
<p>The convenience utility defines functions to ease the handling of complicated data structures.</p>
<span class="target" id="module-pysic.utility.convenience"></span><dl class="function">
<dt id="pysic.utility.convenience.expand_symbols_string">
<tt class="descclassname">pysic.utility.convenience.</tt><tt class="descname">expand_symbols_string</tt><big>(</big><em>symbol_string</em><big>)</big><a class="headerlink" href="#pysic.utility.convenience.expand_symbols_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Expands a string of chemical symbols to list.</p>
<p>The function parses a string of chemical symbols and turns
it to a list such as those expected by 
<a class="reference internal" href="potential class.html#pysic.interactions.local.Potential" title="pysic.interactions.local.Potential"><tt class="xref py py-class docutils literal"><span class="pre">Potential</span></tt></a>.</p>
<p>Examples:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">expand_symbols_string</span><span class="p">(</span><span class="s">&quot;HH&quot;</span><span class="p">)</span>
<span class="go">[[&#39;H&#39;, &#39;H&#39;]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">expand_symbols_string</span><span class="p">(</span><span class="s">&quot;SiSi,SiO,SiH&quot;</span><span class="p">)</span>
<span class="go">[[&#39;Si&#39;, &#39;Si&#39;], [&#39;Si&#39;, &#39;O&#39;], [&#39;Si&#39;, &#39;H&#39;]]</span>
</pre></div>
</div>
<p>Parameters:</p>
<dl class="docutils">
<dt>symbol_string: string</dt>
<dd>the string to be expanded</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pysic.utility.convenience.expand_symbols_table">
<tt class="descclassname">pysic.utility.convenience.</tt><tt class="descname">expand_symbols_table</tt><big>(</big><em>symbol_list</em>, <em>type=None</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/convenience.html#expand_symbols_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.convenience.expand_symbols_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a table of symbols object.</p>
<p>The syntax for defining the targets is precise
but somewhat cumbersome due to the large number of permutations one gets
when the number of bodies increases. Oftentimes one does not need such
fine control over all the parameters since many of them have the same
numerical values. Therefore it is convenient to be able to define
the targets in a more compact way.</p>
<p>This method generates the detailed target tables from compact syntax.
By default, the method takes a list of list and multiplies each list
with the others (note the call for a static method):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pysic</span><span class="o">.</span><span class="n">utility</span><span class="o">.</span><span class="n">convenience</span><span class="o">.</span><span class="n">expand_symbols_table</span><span class="p">([</span>  <span class="s">&#39;Si&#39;</span><span class="p">,</span>
<span class="gp">... </span>                                                 <span class="p">[</span><span class="s">&#39;O&#39;</span><span class="p">,</span> <span class="s">&#39;C&#39;</span><span class="p">],</span>
<span class="gp">... </span>                                                 <span class="p">[</span><span class="s">&#39;H&#39;</span><span class="p">,</span> <span class="s">&#39;O&#39;</span><span class="p">]</span> <span class="p">])</span>
<span class="go">[[&#39;Si&#39;, &#39;O&#39;, &#39;H&#39;],</span>
<span class="go"> [&#39;Si&#39;, &#39;C&#39;, &#39;H&#39;],</span>
<span class="go"> [&#39;Si&#39;, &#39;O&#39;, &#39;O&#39;],</span>
<span class="go"> [&#39;Si&#39;, &#39;C&#39;, &#39;O&#39;]]</span>
</pre></div>
</div>
<p>Other custom types of formatting can be defined with the type parameter.</p>
<p>For type &#8216;triplet&#8217;, the target list is created for triplets A-B-C from an input list of the form:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="s">&#39;C&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Remember that in the symbol table accepted by the BondOrderParameters, one needs to define
the B-A and B-C bonds separately and so B appears as the first symbol in the output and the other
two appear as second and third (both cases):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[[</span><span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;C&#39;</span><span class="p">],</span>
 <span class="p">[</span><span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="s">&#39;C&#39;</span><span class="p">,</span> <span class="s">&#39;A&#39;</span><span class="p">]]</span>
</pre></div>
</div>
<p>However, for an A-B-A triplet, the A-B bond should only be defined once to prevent double counting.
Like the default function, also here several triplets can be defined at once:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pysic</span><span class="o">.</span><span class="n">BondOrderParameters</span><span class="o">.</span><span class="n">expand_symbols_table</span><span class="p">([</span> <span class="p">[</span><span class="s">&#39;H&#39;</span><span class="p">,</span> <span class="s">&#39;O&#39;</span><span class="p">],</span>
<span class="gp">... </span>                                                  <span class="s">&#39;Si&#39;</span><span class="p">,</span>
<span class="gp">... </span>                                                 <span class="p">[</span><span class="s">&#39;O&#39;</span><span class="p">,</span> <span class="s">&#39;C&#39;</span><span class="p">]</span> <span class="p">],</span>
<span class="gp">... </span>                                               <span class="nb">type</span><span class="o">=</span><span class="s">&#39;triplet&#39;</span><span class="p">)</span>
<span class="go">[[&#39;Si&#39;, &#39;H&#39;, &#39;O&#39;],</span>
<span class="go"> [&#39;Si&#39;, &#39;O&#39;, &#39;H&#39;],</span>
<span class="go"> [&#39;Si&#39;, &#39;H&#39;, &#39;C&#39;],</span>
<span class="go"> [&#39;Si&#39;, &#39;C&#39;, &#39;H&#39;],</span>
<span class="go"> [&#39;Si&#39;, &#39;O&#39;, &#39;O&#39;],</span>
<span class="go"> [&#39;Si&#39;, &#39;O&#39;, &#39;C&#39;],</span>
<span class="go"> [&#39;Si&#39;, &#39;C&#39;, &#39;O&#39;]]</span>
</pre></div>
</div>
<p>Parameters:</p>
<p>symbol_list: list of strings
list to be expanded to a table
type: string
specifies a custom way of generating the table</p>
</dd></dl>

</div>
<div class="section" id="geometry">
<span id="geometry-utility"></span><h2>Geometry<a class="headerlink" href="#geometry" title="Permalink to this headline">¶</a></h2>
<p>The geometry utility defines tools for geometric operations.</p>
<span class="target" id="module-pysic.utility.geometry"></span><dl class="class">
<dt id="pysic.utility.geometry.Cell">
<em class="property">class </em><tt class="descclassname">pysic.utility.geometry.</tt><tt class="descname">Cell</tt><big>(</big><em>vector1</em>, <em>vector2</em>, <em>vector3</em>, <em>pbc</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/geometry.html#Cell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.geometry.Cell" title="Permalink to this definition">¶</a></dt>
<dd><p>Cell describing the simulation volume of a subvolume.</p>
<p>This class can be used by the user for coordinate manipulation. Note however,
that ASE does not use on this class, as it is part of Pysic. The class is
merely a tool for examining the geometry.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>vector1: list of doubles</dt>
<dd>3-vector specifying the first vector spanning the cell <span class="math">\(\mathbf{v}_1\)</span></dd>
<dt>vector2: list of doubles</dt>
<dd>3-vector specifying the second vector spanning the cell <span class="math">\(\mathbf{v}_2\)</span></dd>
<dt>vector3: list of doubles</dt>
<dd>3-vector specifying the third vector spanning the cell <span class="math">\(\mathbf{v}_3\)</span></dd>
<dt>pbc: list of logicals</dt>
<dd>three logic switches for specifying periodic boundaries - True denotes periodicity</dd>
</dl>
<dl class="method">
<dt id="pysic.utility.geometry.Cell.get_absolute_coordinates">
<tt class="descname">get_absolute_coordinates</tt><big>(</big><em>fractional</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/geometry.html#Cell.get_absolute_coordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.geometry.Cell.get_absolute_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>For the given fractional coordinates, returns the absolute coordinates.</p>
<p>The absolute coordinates are the cell vectors multiplied by the fractional
coordinates.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>fractional: numpy double 3-vector</dt>
<dd>the fractional coordinates</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysic.utility.geometry.Cell.get_distance">
<tt class="descname">get_distance</tt><big>(</big><em>atom1</em>, <em>atom2</em>, <em>offsets=None</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/geometry.html#Cell.get_distance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.geometry.Cell.get_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the distance between two atoms.</p>
<p>Offsets are multipliers for the cell vectors to be added to the
plain separation vector r1-r2 between the atoms.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>atom1: ASE Atoms object</dt>
<dd>first atom</dd>
<dt>atom2: ASE Atoms object</dt>
<dd>second atom</dd>
<dt>offsets: Numpy integer 3-vector</dt>
<dd>the periodic boundary offsets</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysic.utility.geometry.Cell.get_relative_coordinates">
<tt class="descname">get_relative_coordinates</tt><big>(</big><em>coordinates</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/geometry.html#Cell.get_relative_coordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.geometry.Cell.get_relative_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the coordinates of the given atom in fractional coordinates.</p>
<p>The absolute position of the atom is given by multiplying the cell vectors
by the fractional coordinates.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>coordinates: numpy double 3-vector</dt>
<dd>the absolute coordinates</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysic.utility.geometry.Cell.get_separation">
<tt class="descname">get_separation</tt><big>(</big><em>atom1</em>, <em>atom2</em>, <em>offsets=None</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/geometry.html#Cell.get_separation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.geometry.Cell.get_separation" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the separation vector between two atoms, r1-r2.</p>
<p>Offsets are multipliers for the cell vectors to be added to the
plain separation vector r1-r2 between the atoms.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>atom1: ASE Atoms object</dt>
<dd>first atom</dd>
<dt>atom2: ASE Atoms object</dt>
<dd>second atom</dd>
<dt>offsets: Numpy integer 3-vector</dt>
<dd>the periodic boundary offsets</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysic.utility.geometry.Cell.get_wrapped_coordinates">
<tt class="descname">get_wrapped_coordinates</tt><big>(</big><em>coordinates</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/geometry.html#Cell.get_wrapped_coordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.geometry.Cell.get_wrapped_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Wraps the coordinates of the given atom inside the simulation cell.</p>
<p>This method return the equivalent position (with respect to the periodic boundaries)
of the atom inside the cell.</p>
<p>For instance, if the cell is spanned by vectors of length 10.0 in 
directions of <span class="math">\(x\)</span>, <span class="math">\(y\)</span>, and <span class="math">\(z\)</span>,
an the coordinates [-1.0, 12.0, 3.0] wrap to [9.0, 2.0, 3.0].</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>coordinates: numpy double 3-vector</dt>
<dd>the absolute coordinates</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="error">
<span id="error-utility"></span><h2>Error<a class="headerlink" href="#error" title="Permalink to this headline">¶</a></h2>
<p>The error utility defines a group of intrinsic errors to describe situations where
one tries to use or set up the calculator with errorneous or insufficient
information.</p>
<p>The module also defines the <a class="reference internal" href="#pysic.utility.error.Warning" title="pysic.utility.error.Warning"><tt class="xref py py-class docutils literal"><span class="pre">Warning</span></tt></a> class and related routines
for displaying warnings for the user upon suspicious but non-critical behavior.</p>
<span class="target" id="module-pysic.utility.error"></span><dl class="exception">
<dt id="pysic.utility.error.InvalidCoordinatorError">
<em class="property">exception </em><tt class="descclassname">pysic.utility.error.</tt><tt class="descname">InvalidCoordinatorError</tt><big>(</big><em>message=''</em>, <em>coordinator=None</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/error.html#InvalidCoordinatorError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.error.InvalidCoordinatorError" title="Permalink to this definition">¶</a></dt>
<dd><p>An error raised when an invalid coordination calculator is about to be created or used.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>message: string</dt>
<dd>information describing why the error occurred</dd>
<dt>coordinator: <a class="reference internal" href="coordinator class.html#pysic.interactions.bondorder.Coordinator" title="pysic.interactions.bondorder.Coordinator"><tt class="xref py py-class docutils literal"><span class="pre">Coordinator</span></tt></a></dt>
<dd>the errorneous coordinator</dd>
</dl>
</dd></dl>

<dl class="exception">
<dt id="pysic.utility.error.InvalidParametersError">
<em class="property">exception </em><tt class="descclassname">pysic.utility.error.</tt><tt class="descname">InvalidParametersError</tt><big>(</big><em>message=''</em>, <em>params=None</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/error.html#InvalidParametersError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.error.InvalidParametersError" title="Permalink to this definition">¶</a></dt>
<dd><p>An error raised when an invalid set of parameters is about to be created.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>message: string</dt>
<dd>information describing why the error occurred</dd>
<dt>params: <a class="reference internal" href="bondorderparameters class.html#pysic.interactions.bondorder.BondOrderParameters" title="pysic.interactions.bondorder.BondOrderParameters"><tt class="xref py py-class docutils literal"><span class="pre">BondOrderParameters</span></tt></a></dt>
<dd>the errorneous parameters</dd>
</dl>
</dd></dl>

<dl class="exception">
<dt id="pysic.utility.error.InvalidPotentialError">
<em class="property">exception </em><tt class="descclassname">pysic.utility.error.</tt><tt class="descname">InvalidPotentialError</tt><big>(</big><em>message=''</em>, <em>potential=None</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/error.html#InvalidPotentialError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.error.InvalidPotentialError" title="Permalink to this definition">¶</a></dt>
<dd><p>An error raised when an invalid potential is about to be created or used.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>message: string</dt>
<dd>information describing why the error occurred</dd>
<dt>potential: <a class="reference internal" href="potential class.html#pysic.interactions.local.Potential" title="pysic.interactions.local.Potential"><tt class="xref py py-class docutils literal"><span class="pre">Potential</span></tt></a></dt>
<dd>the errorneous potential</dd>
</dl>
</dd></dl>

<dl class="exception">
<dt id="pysic.utility.error.InvalidRelaxationError">
<em class="property">exception </em><tt class="descclassname">pysic.utility.error.</tt><tt class="descname">InvalidRelaxationError</tt><big>(</big><em>message=''</em>, <em>relaxation=None</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/error.html#InvalidRelaxationError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.error.InvalidRelaxationError" title="Permalink to this definition">¶</a></dt>
<dd><p>An error raised when an invalid charge relaxation is about to be created.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>message: string</dt>
<dd>information describing why the error occurred</dd>
<dt>params: <a class="reference internal" href="chargerelaxation class.html#pysic.charges.relaxation.ChargeRelaxation" title="pysic.charges.relaxation.ChargeRelaxation"><tt class="xref py py-class docutils literal"><span class="pre">ChargeRelaxation</span></tt></a></dt>
<dd>the errorneous parameters</dd>
</dl>
</dd></dl>

<dl class="exception">
<dt id="pysic.utility.error.InvalidSummationError">
<em class="property">exception </em><tt class="descclassname">pysic.utility.error.</tt><tt class="descname">InvalidSummationError</tt><big>(</big><em>message=''</em>, <em>summer=None</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/error.html#InvalidSummationError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.error.InvalidSummationError" title="Permalink to this definition">¶</a></dt>
<dd><p>An error raised when an invalid coulomb summation is about to be created.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>message: string</dt>
<dd>information describing why the error occurred</dd>
<dt>params: <a class="reference internal" href="coulombsummation class.html#pysic.interactions.coulomb.CoulombSummation" title="pysic.interactions.coulomb.CoulombSummation"><tt class="xref py py-class docutils literal"><span class="pre">CoulombSummation</span></tt></a></dt>
<dd>the errorneous summation</dd>
</dl>
</dd></dl>

<dl class="exception">
<dt id="pysic.utility.error.LockedCoreError">
<em class="property">exception </em><tt class="descclassname">pysic.utility.error.</tt><tt class="descname">LockedCoreError</tt><big>(</big><em>message=''</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/error.html#LockedCoreError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.error.LockedCoreError" title="Permalink to this definition">¶</a></dt>
<dd><p>An error raised when a <a class="reference internal" href="pysic class.html#pysic.calculator.Pysic" title="pysic.calculator.Pysic"><tt class="xref py py-class docutils literal"><span class="pre">Pysic</span></tt></a> tries to access the core which is locked
by another calculator.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>message: string</dt>
<dd>information describing why the error occurred</dd>
</dl>
</dd></dl>

<dl class="exception">
<dt id="pysic.utility.error.MissingAtomsError">
<em class="property">exception </em><tt class="descclassname">pysic.utility.error.</tt><tt class="descname">MissingAtomsError</tt><big>(</big><em>message=''</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/error.html#MissingAtomsError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.error.MissingAtomsError" title="Permalink to this definition">¶</a></dt>
<dd><p>An error raised when the core is being updated with per atom information before updating the atoms.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>message: string</dt>
<dd>information describing why the error occurred</dd>
</dl>
</dd></dl>

<dl class="exception">
<dt id="pysic.utility.error.MissingNeighborsError">
<em class="property">exception </em><tt class="descclassname">pysic.utility.error.</tt><tt class="descname">MissingNeighborsError</tt><big>(</big><em>message=''</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/error.html#MissingNeighborsError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.error.MissingNeighborsError" title="Permalink to this definition">¶</a></dt>
<dd><p>An error raised when a calculation is initiated without initializing the neighbor lists.</p>
<p>In principle <a class="reference internal" href="pysic class.html#pysic.calculator.Pysic" title="pysic.calculator.Pysic"><tt class="xref py py-class docutils literal"><span class="pre">Pysic</span></tt></a> should always take care of handling the neighbors automatically.
This error is an indication that there is loophole in the built-in preparations.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>message: string</dt>
<dd>information describing why the error occurred</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="pysic.utility.error.Warning">
<em class="property">class </em><tt class="descclassname">pysic.utility.error.</tt><tt class="descname">Warning</tt><big>(</big><em>message</em>, <em>level</em><big>)</big><a class="headerlink" href="#pysic.utility.error.Warning" title="Permalink to this definition">¶</a></dt>
<dd><p>A warning raised due to a potentially dangerous action.</p>
<p>The warning is not an exception, so it doesn&#8217;t by default interrupt execution.
It will, however, display a message or perform an action depending on the
warning settings.</p>
<p>The warning levels are:</p>
<blockquote>
<div>1: a condition that leads to unwanted behaviour (e.g., creating redundant potential in core)
2: a condition that is likely unwanted, but possibly a hack
3: a condition that is likely unwanted, but is a featured hack (e.g., bond order mixing)
4: a condition that is harmless but may lead to errors later (e.g., defining a potential without targets - often you&#8217;ll specify the targets later)
5: a condition that may call for attention (notes to user)</div></blockquote>
<p>Parameters:</p>
<dl class="docutils">
<dt>message: string</dt>
<dd>information describing the cause for the warning</dd>
<dt>level: int</dt>
<dd>severity of the warning (1-5, 1 being most severe)</dd>
</dl>
<dl class="method">
<dt id="pysic.utility.error.Warning.display">
<tt class="descname">display</tt><big>(</big><big>)</big><a class="headerlink" href="#pysic.utility.error.Warning.display" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the message related to this warning, but only if the level of
the warning is smaller (more severe) than the global warning_level.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="pysic.utility.error.WarningInterruptException">
<em class="property">exception </em><tt class="descclassname">pysic.utility.error.</tt><tt class="descname">WarningInterruptException</tt><big>(</big><em>message</em><big>)</big><a class="headerlink" href="#pysic.utility.error.WarningInterruptException" title="Permalink to this definition">¶</a></dt>
<dd><p>An error raised automatically for any warning when
strict warnings are in use (warning_level = 6).</p>
</dd></dl>

<dl class="function">
<dt id="pysic.utility.error.set_warning_level">
<tt class="descclassname">pysic.utility.error.</tt><tt class="descname">set_warning_level</tt><big>(</big><em>level</em><big>)</big><a class="headerlink" href="#pysic.utility.error.set_warning_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the warning level.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>level: int</dt>
<dd>The level of warnings displayed. Should be an integer between 0 (no warnings) and 6 (warnings are treated as errors).</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pysic.utility.error.warn">
<tt class="descclassname">pysic.utility.error.</tt><tt class="descname">warn</tt><big>(</big><em>message</em>, <em>level</em><big>)</big><a class="headerlink" href="#pysic.utility.error.warn" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise and display a warning.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>message: string</dt>
<dd>information describing the cause for the warning</dd>
<dt>level: int</dt>
<dd>severity of the warning (1-5, 1 being most severe)</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="debug">
<span id="debug-utility"></span><h2>Debug<a class="headerlink" href="#debug" title="Permalink to this headline">¶</a></h2>
<p>The debug utility defines debugging tools.</p>
<span class="target" id="module-pysic.utility.debug"></span></div>
<div class="section" id="f2py">
<span id="f2py-utility"></span><h2>F2py<a class="headerlink" href="#f2py" title="Permalink to this headline">¶</a></h2>
<p>The f2py utility defines tools for the Python-Fortran interfacing.</p>
<span class="target" id="module-pysic.utility.f2py"></span><dl class="function">
<dt id="pysic.utility.f2py.char2int">
<tt class="descclassname">pysic.utility.f2py.</tt><tt class="descname">char2int</tt><big>(</big><em>char_in</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/f2py.html#char2int"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.f2py.char2int" title="Permalink to this definition">¶</a></dt>
<dd><p>Codes a single character to an integer.</p>
</dd></dl>

<dl class="function">
<dt id="pysic.utility.f2py.int2char">
<tt class="descclassname">pysic.utility.f2py.</tt><tt class="descname">int2char</tt><big>(</big><em>int_in</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/f2py.html#int2char"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.f2py.int2char" title="Permalink to this definition">¶</a></dt>
<dd><p>Decodes an integer to a single character.</p>
</dd></dl>

<dl class="function">
<dt id="pysic.utility.f2py.ints2str">
<tt class="descclassname">pysic.utility.f2py.</tt><tt class="descname">ints2str</tt><big>(</big><em>ints_in</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/f2py.html#ints2str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.f2py.ints2str" title="Permalink to this definition">¶</a></dt>
<dd><p>Decodes a list of integers to a string.</p>
</dd></dl>

<dl class="function">
<dt id="pysic.utility.f2py.str2ints">
<tt class="descclassname">pysic.utility.f2py.</tt><tt class="descname">str2ints</tt><big>(</big><em>string_in</em>, <em>target_length=0</em><big>)</big><a class="reference internal" href="_modules/pysic/utility/f2py.html#str2ints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysic.utility.f2py.str2ints" title="Permalink to this definition">¶</a></dt>
<dd><p>Codes a string to a list of integers.</p>
<p>Turns a string to a list of integers for f2py interfacing.
If required, the length of the list can be specified and trailing spaces
will be added to the end.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pysic_fortran.html" title="Pysic Fortran module"
             >next</a> |</li>
        <li class="right" >
          <a href="coremirror class.html" title="CoreMirror class"
             >previous</a> |</li>
        <li><a href="index.html">Pysic 0.5 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011-2013, Teemu Hynninen.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>